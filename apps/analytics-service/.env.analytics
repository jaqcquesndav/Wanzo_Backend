# Configuration pour le service Analytics avec surveillance des risques financiers
# Copier ce fichier vers .env.local et ajuster selon votre environnement

# Base de données PostgreSQL principale
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=wanzo_analytics
POSTGRES_PASSWORD=analytics_secure_2024
POSTGRES_DB=wanzo_analytics

# TimescaleDB (extension PostgreSQL pour time-series)
TIMESCALE_ENABLED=true
TIMESCALE_HOST=localhost
TIMESCALE_PORT=5432
TIMESCALE_USER=wanzo_timeseries
TIMESCALE_PASSWORD=timeseries_secure_2024
TIMESCALE_DB=wanzo_timeseries

# Neo4j (base de données graphe)
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=neo4j_secure_2024
NEO4J_DATABASE=wanzo_graph

# Configuration Kafka
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=analytics-service
KAFKA_GROUP_ID=analytics-group

# Topics Kafka pour les événements
KAFKA_TOPIC_TRANSACTIONS=transaction-events
KAFKA_TOPIC_CREDITS=credit-events
KAFKA_TOPIC_ACCOUNTING=accounting-events
KAFKA_TOPIC_PORTFOLIO=portfolio-events

# Configuration des seuils de risque
RISK_THRESHOLD_LOW=3.0
RISK_THRESHOLD_MEDIUM=5.0
RISK_THRESHOLD_HIGH=7.0
RISK_THRESHOLD_CRITICAL=8.5

# Configuration de détection de fraude
FRAUD_AMOUNT_THRESHOLD=100000  # CDF
FRAUD_VELOCITY_THRESHOLD=5     # transactions par heure
FRAUD_TIME_WINDOW=3600        # secondes (1 heure)

# Configuration géographique
DEFAULT_PROVINCE=Kinshasa
DEFAULT_CURRENCY=CDF
GEOGRAPHIC_RISK_ENABLED=true

# Configuration de monitoring
METRICS_ENABLED=true
PROMETHEUS_PORT=9464
LOG_LEVEL=info

# Configuration ML/IA (pour la détection de fraude)
ML_MODEL_PATH=/models/fraud_detection
ML_THRESHOLD_CONFIDENCE=0.85
ANOMALY_DETECTION_ENABLED=true

# Configuration des alertes
ALERT_EMAIL_ENABLED=false
ALERT_SMS_ENABLED=false
ALERT_WEBHOOK_URL=http://localhost:3000/webhooks/alerts

# Cache Redis (optionnel)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_2024
CACHE_TTL=3600

# Configuration du service
PORT=3003
NODE_ENV=development
SERVICE_NAME=analytics-service
API_VERSION=v1

# Intégration avec les autres microservices
CUSTOMER_SERVICE_URL=http://localhost:3001
ACCOUNTING_SERVICE_URL=http://localhost:3002
PORTFOLIO_SERVICE_URL=http://localhost:3004
ADMIN_SERVICE_URL=http://localhost:3005

# Configuration JWT pour l'authentification inter-services
JWT_SECRET=analytics_jwt_secret_key_2024
JWT_EXPIRES_IN=24h

# Configuration des limites de performance
MAX_CONCURRENT_CALCULATIONS=10
BATCH_SIZE=1000
QUERY_TIMEOUT=30000

# Configuration de sauvegarde des données critiques
BACKUP_ENABLED=true
BACKUP_INTERVAL=24h
BACKUP_RETENTION_DAYS=30
