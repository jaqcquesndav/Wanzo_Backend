# ====================================
# ANALYTICS SERVICE - PRODUCTION CONFIG
# ====================================

# Service Configuration
NODE_ENV=production
PORT=3004
SERVICE_NAME=analytics-service

# Database Configuration
DATABASE_HOST=postgres-prod
DATABASE_PORT=5432
DATABASE_NAME=wanzo_analytics_prod
DATABASE_USERNAME=analytics_user
DATABASE_PASSWORD=${ANALYTICS_DB_PASSWORD}
DATABASE_SSL=true
DATABASE_SYNCHRONIZE=false
DATABASE_LOGGING=false

# Neo4j Configuration (Graph Database)
NEO4J_URI=bolt://neo4j-prod:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=${NEO4J_PASSWORD}
NEO4J_DATABASE=wanzo_graph_prod

# TimescaleDB Configuration (Time Series)
TIMESCALEDB_HOST=timescaledb-prod
TIMESCALEDB_PORT=5432
TIMESCALEDB_NAME=wanzo_timeseries_prod
TIMESCALEDB_USERNAME=timeseries_user
TIMESCALEDB_PASSWORD=${TIMESCALEDB_PASSWORD}

# Kafka Configuration
KAFKA_BROKERS=kafka-1-prod:9092,kafka-2-prod:9092,kafka-3-prod:9092
KAFKA_CLIENT_ID=analytics-service-prod
KAFKA_GROUP_ID=analytics-risk-group-prod
KAFKA_SSL_ENABLED=true
KAFKA_SASL_ENABLED=true
KAFKA_SASL_MECHANISM=SCRAM-SHA-256
KAFKA_SASL_USERNAME=analytics_kafka_user
KAFKA_SASL_PASSWORD=${KAFKA_PASSWORD}
KAFKA_CONNECTION_TIMEOUT=30000
KAFKA_REQUEST_TIMEOUT=25000
KAFKA_RETRY_ATTEMPTS=8
KAFKA_RETRY_INITIAL_DELAY=100

# Microservices Configuration
CUSTOMER_SERVICE_HOST=customer-service-prod
CUSTOMER_SERVICE_PORT=3001
PORTFOLIO_SERVICE_HOST=portfolio-service-prod
PORTFOLIO_SERVICE_PORT=3002
GESTION_COMMERCIALE_SERVICE_HOST=commerce-service-prod
GESTION_COMMERCIALE_SERVICE_PORT=3006
ACCOUNTING_SERVICE_HOST=accounting-service-prod
ACCOUNTING_SERVICE_PORT=3007

# Cache Configuration
CACHE_TTL_SECONDS=3600
CACHE_MAX_ITEMS=10000
CACHE_CHECK_PERIOD=600

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/analytics-service/app.log
LOG_FILE_MAX_SIZE=100m
LOG_FILE_MAX_FILES=10

# Security Configuration
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=24h
API_RATE_LIMIT=1000
API_RATE_WINDOW=900000

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true

# Risk Analysis Configuration
RISK_CALCULATION_TIMEOUT=10000
FRAUD_DETECTION_TIMEOUT=5000
GEOGRAPHIC_ANALYSIS_TIMEOUT=3000

# Production Optimizations
ENABLE_COMPRESSION=true
ENABLE_CORS=false
TRUST_PROXY=true
HELMET_ENABLED=true

# Error Handling
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
ERROR_STACK_TRACE=false

# Feature Flags
ENABLE_REAL_TIME_ANALYSIS=true
ENABLE_MACHINE_LEARNING=true
ENABLE_GRAPH_ANALYSIS=true
ENABLE_FRAUD_DETECTION=true
ENABLE_GEOGRAPHIC_ANALYSIS=true
